import{J as N,K as H,L as Q,M as V,h as X,N as A,O as C,c as y,r as E,P,Q as _}from"./CP8lYs_k.js";function k(e){return Q()?(V(e),!0):!1}function I(e){return typeof e=="function"?e():X(e)}const z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=Object.prototype.toString,F=e=>B.call(e)==="[object Object]",b=()=>{};function G(e){return A()}function J(e,t=!0,n){G()?N(e,n):t?e():H(e)}function K(e){var t;const n=I(e);return(t=n==null?void 0:n.$el)!=null?t:n}const L=z?window:void 0;function x(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=L):[t,n,i,o]=e,!t)return b;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const c=[],u=()=>{c.forEach(l=>l()),c.length=0},d=(l,f,m,p)=>(l.addEventListener(f,m,p),()=>l.removeEventListener(f,m,p)),r=P(()=>[K(t),I(o)],([l,f])=>{if(u(),!l)return;const m=F(f)?{...f}:f;c.push(...n.flatMap(p=>i.map(S=>d(l,p,S,m))))},{immediate:!0,flush:"post"}),a=()=>{r(),u()};return k(a),a}function $(){const e=E(!1),t=A();return t&&N(()=>{e.value=!0},t),e}function q(e){const t=$();return y(()=>(t.value,!!e()))}function R(e,t={}){const{window:n=L}=t,i=q(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const c=E(!1),u=a=>{c.value=a.matches},d=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",u):o.removeListener(u))},r=_(()=>{i.value&&(d(),o=n.matchMedia(I(e)),"addEventListener"in o?o.addEventListener("change",u):o.addListener(u),c.value=o.matches)});return k(()=>{r(),d(),o=void 0}),c}function te(e,t={}){const{threshold:n=50,onSwipe:i,onSwipeEnd:o,onSwipeStart:c,passive:u=!0,window:d=L}=t,r=C({x:0,y:0}),a=C({x:0,y:0}),l=y(()=>r.x-a.x),f=y(()=>r.y-a.y),{max:m,abs:p}=Math,S=y(()=>m(p(l.value),p(f.value))>=n),w=E(!1),O=y(()=>S.value?p(l.value)>p(f.value)?l.value>0?"left":"right":f.value>0?"up":"down":"none"),T=s=>[s.touches[0].clientX,s.touches[0].clientY],Y=(s,v)=>{r.x=s,r.y=v},W=(s,v)=>{a.x=s,a.y=v};let h;const M=U(d==null?void 0:d.document);u?h=M?{passive:!0}:{capture:!1}:h=M?{passive:!1,capture:!0}:{capture:!0};const j=s=>{w.value&&(o==null||o(s,O.value)),w.value=!1},D=[x(e,"touchstart",s=>{if(s.touches.length!==1)return;h.capture&&!h.passive&&s.preventDefault();const[v,g]=T(s);Y(v,g),W(v,g),c==null||c(s)},h),x(e,"touchmove",s=>{if(s.touches.length!==1)return;const[v,g]=T(s);W(v,g),!w.value&&S.value&&(w.value=!0),w.value&&(i==null||i(s))},h),x(e,["touchend","touchcancel"],j,h)];return{isPassiveEventSupported:M,isSwiping:w,direction:O,coordsStart:r,coordsEnd:a,lengthX:l,lengthY:f,stop:()=>D.forEach(s=>s())}}function U(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",b,n),e.removeEventListener("x",b),t}function ne(e={}){const{window:t=L,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:c=!0}=e,u=E(n),d=E(i),r=()=>{t&&(c?(u.value=t.innerWidth,d.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,d.value=t.document.documentElement.clientHeight))};if(r(),J(r),x("resize",r,{passive:!0}),o){const a=R("(orientation: portrait)");P(a,()=>r())}return{width:u,height:d}}export{te as a,ne as u};
